<div class="card hero-shadow h-100 shadow-sm">
  <div class="card-body">
    <strong>Messages (<%= messages.length %>)</strong>

    <ul class="list-group mt-2" style="max-height: 600px; overflow-y: auto;">
      <% messages.forEach(msg=> { %>
        <li class="list-group-item">
          <a href="/global/message/<%= msg.id %>">
            <div class="d-flex justify-content-between align-items-start">
              <div>
                <span class="badge <%= msg.type === 'sales' ? 'bg-primary' : 'bg-secondary' %>">
                  <%= msg.type==='sales' ? 'Sales Inquiry' : 'General Support' %>
                </span>

                <div class="mt-2">
                  <strong>
                    <%= msg.contactName %>
                  </strong>
                  <span class="text-secondary">(<%= msg.email %>)</span>
                </div>

                <% if (msg.type==='sales' && msg.orgName) { %>
                  <div class="small text-muted">
                    Organization: <%= msg.orgName %>
                  </div>
                  <% } %>
                    <div class="small text-secondary">
                      Received: <%= new Date(msg.createdAt).toLocaleString() %>
                    </div>
              </div>
            </div>
          </a>
        </li>
        <% }) %>
    </ul>

    <% if (!messages.length) { %>
      <p class="text-secondary small mt-3">No messages found.</p>
      <% } %>
  </div>
</div>
