<!-- Breadcrumb -->
<nav aria-label="breadcrumb" class="mb-3">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="/dashboard">Dashboard</a></li>
    <li class="breadcrumb-item active" aria-current="page">Haley Wright</li>
  </ol>
</nav>

<!-- Header: CFI Profile + Actions -->
<div class="card shadow-sm mb-4">
  <div class="card-body d-flex flex-column flex-lg-row align-items-lg-center justify-content-between gap-3">
    <div class="d-flex align-items-center gap-3">
      <div class="rounded-circle bg-rs-primary text-white d-flex align-items-center justify-content-center"
        style="width:56px;height:56px">HW</div>
      <div>
        <h4 class="mb-0">Haley Wright</h4>
        <div class="small text-secondary">haley.wright@example.com</div>
        <div class="mt-1">
          <span class="badge bg-success-subtle text-success border me-2">Active</span>
          <span class="badge text-secondary badge-outline me-2"><i class="bi bi-star-fill me-1"></i>Gold Seal
            Eligible</span>
        </div>
      </div>
    </div>
    <div class="d-flex flex-wrap gap-2">
      <button class="btn btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#editCFIModal"><i
          class="bi bi-pencil-square me-2"></i>Edit</button>
      <button class="btn btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#transferModal"><i
          class="bi bi-arrow-left-right me-2"></i>Transfer Students</button>
      <button class="btn btn-outline-danger"><i class="bi bi-person-dash me-2"></i>Deactivate</button>
    </div>
  </div>
</div>

<!-- KPI Row -->
<div class="row g-3 mb-3">
  <div class="col-6 col-xl-4">
    <div class="card hero-shadow h-100">
      <div class="card-body">
        <div class="text-secondary small">Assigned Students</div>
        <div class="fs-2 fw-bold">18</div>
      </div>
    </div>
  </div>
  <div class="col-6 col-xl-4">
    <div class="card hero-shadow h-100">
      <div class="card-body">
        <div class="text-secondary small">First-Time Pass</div>
        <div class="fs-2 fw-bold">82%</div>
        <div class="small text-secondary">Rolling 12 months</div>
      </div>
    </div>
  </div>
  <div class="col-6 col-xl-4">
    <div class="card hero-shadow h-100">
      <div class="card-body">
        <div class="text-secondary small">Avg Progress</div>
        <div class="d-flex align-items-center gap-2">
          <div class="fs-2 fw-bold text-success">68%</div>
        </div>
        <div class="progress small mt-2">
          <div class="progress-bar bg-success" style="width:68%"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Tabs -->
<ul class="nav nav-tabs" id="cfiTabs" role="tablist">
  <li class="nav-item" role="presentation">
    <button class="nav-link active" id="students-tab" data-bs-toggle="tab" data-bs-target="#students" type="button"
      role="tab">Students</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="certs-tab" data-bs-toggle="tab" data-bs-target="#certs" type="button"
      role="tab">Certifications</button>
  </li>
</ul>

<div class="tab-content pt-3">
  <!-- Students -->
  <div class="tab-pane fade show active" id="students" role="tabpanel">
    <div class="card shadow-sm">
      <div class="card-header bg-white d-flex align-items-center justify-content-between">
        <strong>Students (18)</strong>
        <div class="d-flex gap-2">
          <div class="input-group input-group-sm" style="max-width:280px">
            <span class="input-group-text bg-white"><i class="bi bi-search"></i></span>
            <input class="form-control" placeholder="Search...">
          </div>
          <button class="btn btn-sm btn-outline-secondary text-nowrap" data-bs-toggle="modal"
            data-bs-target="#assignStudentModal"><i class="bi bi-person-plus me-1"></i>Assign</button>
        </div>
      </div>
      <div class="card-body">
        <div class="table-responsive">
          <table class="table align-middle">
            <thead class="small text-secondary">
              <tr>
                <th>Student</th>
                <th>Rating</th>
                <th>Progress</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Emily Davis</td>
                <td>Instrument</td>
                <td style="width:180px">
                  <div class="progress small">
                    <div class="progress-bar bg-success" style="width:40%"></div>
                  </div>
                  <div class="small text-secondary mt-1">8 / 20</div>
                </td>
                <td class="text-end">
                  <div class="btn-group btn-group-sm">
                    <a class="btn btn-outline-secondary" href="#">View</a>
                  </div>
                </td>
              </tr>
              <tr>
                <td>John Smith</td>
                <td>Private</td>
                <td>
                  <div class="progress small">
                    <div class="progress-bar bg-success" style="width:80%"></div>
                  </div>
                  <div class="small text-secondary mt-1">16 / 20</div>
                </td>
                <td class="text-end">
                  <div class="btn-group btn-group-sm">
                    <a class="btn btn-outline-secondary" href="#">View</a>
                  </div>
                </td>
              </tr>
              <tr>
                <td>Michael Brown</td>
                <td>Private</td>
                <td>
                  <div class="progress small">
                    <div class="progress-bar bg-warning" style="width:25%"></div>
                  </div>
                  <div class="small text-secondary mt-1">5 / 20</div>
                </td>
                <td class="text-end">
                  <div class="btn-group btn-group-sm">
                    <a class="btn btn-outline-secondary" href="#">View</a>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Certifications -->
  <div class="tab-pane fade" id="certs" role="tabpanel">
    <div class="card shadow-sm">
      <div class="card-header bg-white d-flex align-items-center justify-content-between">
        <strong>Certifications</strong>
      </div>
      <div class="card-body">
        <ul class="list-group list-group-flush">
          <li class="list-group-item d-flex justify-content-between align-items-center">
            CFI <span class="small text-secondary">Exp: 2027-05-01</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            CFII <span class="small text-secondary">Exp: 2026-11-12</span>
          </li>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            MEI <span class="small text-secondary">Exp: 2026-04-20</span>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>

<!-- MODALS -->
<!-- Edit CFI -->
<div class="modal fade" id="editCFIModal" tabindex="-1">
  <div class="modal-dialog">
    <form class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Edit CFI</h5>
        <button class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body row g-3">
        <div class="col-md-6"><label class="form-label">First name</label><input class="form-control" value="Haley">
        </div>
        <div class="col-md-6"><label class="form-label">Last name</label><input class="form-control" value="Wright">
        </div>
        <div class="col-12"><label class="form-label">Email</label><input type="email" class="form-control"
            value="haley.wright@example.com"></div>
        <div class="col-12"><label class="form-label">Phone</label><input class="form-control" value="(555) 123-4567">
        </div>
        <div class="col-12">
          <label class="form-label">Ratings</label>
          <input class="form-control" value="CFI/I, MEI">
          <div class="form-text">Comma-separated</div>
        </div>
        <div class="col-12">
          <div class="form-check">
            <input class="form-check-input" id="goldSeal" type="checkbox">
            <label class="form-check-label" for="goldSeal">Gold Seal</label>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-outline-secondary" data-bs-dismiss="modal" type="button">Cancel</button>
        <button class="btn btn-rs" type="button">Save</button>
      </div>
    </form>
  </div>
</div>

<!-- Transfer Students -->
<div class="modal fade" id="transferModal" tabindex="-1">
  <div class="modal-dialog">
    <form class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Transfer Students</h5>
        <button class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <div class="mb-3"><label class="form-label">From</label><input class="form-control" value="Haley Wright"
            disabled></div>
        <div class="mb-3"><label class="form-label">To CFI</label>
          <select class="form-select">
            <option>Chris Taylor</option>
            <option>Avery Lee</option>
            <option>Jordan Kim</option>
          </select>
        </div>
        <div class="mb-3"><label class="form-label">Students</label>
          <select class="form-select" multiple size="5">
            <option>Emily Davis</option>
            <option>John Smith</option>
            <option>Michael Brown</option>
            <option>Casey Reed</option>
            <option>Priya Nair</option>
          </select>
          <div class="form-text">Hold Ctrl/Cmd to select multiple students.</div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-outline-secondary" data-bs-dismiss="modal" type="button">Close</button>
        <button class="btn btn-rs" type="button">Transfer</button>
      </div>
    </form>
  </div>
</div>

<!-- Assign Student -->
<div class="modal fade" id="assignStudentModal" tabindex="-1">
  <div class="modal-dialog">
    <form class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Assign Student to Haley Wright</h5>
        <button class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body row g-3">
        <div class="col-12">
          <label class="form-label">Student</label>
          <select class="form-select">
            <option>— Select —</option>
            <option>New: Add manually…</option>
            <option>Jane Pilot</option>
            <option>Mark Chen</option>
          </select>
        </div>
        <div class="col-12">
          <label class="form-label">Syllabus</label>
          <select class="form-select">
            <option>Private Pilot (61)</option>
            <option>Instrument</option>
            <option>Commercial</option>
          </select>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-outline-secondary" data-bs-dismiss="modal" type="button">Cancel</button>
        <button class="btn btn-rs" type="button">Assign</button>
      </div>
    </form>
  </div>
</div>

<!-- Toast -->
<div class="position-fixed bottom-0 end-0 p-3" style="z-index:1080">
  <div id="toast" class="toast align-items-center text-bg-success border-0" role="alert">
    <div class="d-flex">
      <div class="toast-body">Saved successfully.</div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
    </div>
  </div>
</div>


<script>
  const toast = new bootstrap.Toast(document.getElementById('toast'), { delay: 2200 });
  // Demo hooks
  document.querySelectorAll('#editCFIModal .btn-rs, #assignStudentModal .btn-rs, #transferModal .btn-rs')
    .forEach(btn => btn.addEventListener('click', () => {
      toast.show();
      const m = btn.closest('.modal');
      bootstrap.Modal.getInstance(m)?.hide();
    }));
</script>
